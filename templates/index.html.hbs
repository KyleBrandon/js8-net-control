<html>
    <head>
      <link rel="stylesheet" type="text/css" href="static/styles.css"/>
      <script type = "text/javascript">
        function WebSocketTest() {
          if ("WebSocket" in window) {
            alert("WebSocket is supported by your Browser!");
            
            // Let us open a web socket
            var ws = new WebSocket("ws://127.0.0.1:8082");
      
            ws.onopen = function() {
                
                // Web Socket is connected, send data using send()
            };
      
            ws.onmessage = function (evt) { 
                let message = event.data;

                let messageElem = document.createElement('div');
                messageElem.textContent = message;
                document.getElementById('messages').prepend(messageElem);
            };
      
            ws.onclose = function() { 
                
                // websocket is closed.
                alert("Connection is closed..."); 
            };
          } else {
            
            // The browser doesn't support WebSocket
            alert("WebSocket NOT supported by your Browser!");
          }
        }
      </script>
    </head>
    <body>
      <p>Welcome to the site {{name}}!</p>
      <div id = "sse">
         <a href = "javascript:WebSocketTest()">Run WebSocket</a>
      </div>
      <div id="messages">

      </div>
    </body>
</html>